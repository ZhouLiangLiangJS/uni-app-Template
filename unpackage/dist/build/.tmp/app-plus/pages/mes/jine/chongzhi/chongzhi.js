(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mes/jine/chongzhi/chongzhi"],{2519:function(e,n,o){"use strict";(function(e,o){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t={data:function(){return{qian:null,wx:!1,useUser:this.user,payData:null}},onLoad:function(){},methods:{wxc:function(){var n=this,t=n.url1+"/dinghai/user/loginwechat";null!=n.qian&&n.qian>0?e.login({provider:"weixin",success:function(a){console.log(o(a," at pages\\mes\\jine\\chongzhi\\chongzhi.vue:53")),console.log(o(a.authResult," at pages\\mes\\jine\\chongzhi\\chongzhi.vue:54")),e.showLoading({title:"正在发起付款",mask:!0}),e.request({url:t,header:{"Content-Type":"application/x-www-form-urlencoded"},method:"GET",data:{uid:n.useUser.uid,js_code:a.code},success:function(t){if(console.log(o(t," at pages\\mes\\jine\\chongzhi\\chongzhi.vue:71")),200==t.statusCode){var a=t.data.data;console.log(o("openid:"+typeof a," at pages\\mes\\jine\\chongzhi\\chongzhi.vue:74")),console.log(o(t," at pages\\mes\\jine\\chongzhi\\chongzhi.vue:75")),e.request({url:n.url1+"/dinghai/Charge/insertAddress",header:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:{uid:n.useUser.uid,chargeprice:n.qian},success:function(t){if(200==t.statusCode){var i=t.data.flag;console.log(o(i," at pages\\mes\\jine\\chongzhi\\chongzhi.vue:89")),e.request({url:n.WXpay,header:{"Content-Type":"application/x-www-form-urlencoded"},method:"GET",data:{openid:a,money:i.chargeprice,orderid:i.orderid},success:function(t){console.log(o(t," at pages\\mes\\jine\\chongzhi\\chongzhi.vue:102")),200==t.statusCode?(n.payData=t.data,e.requestPayment({provider:"wxpay",timeStamp:n.payData.timeStamp,nonceStr:n.payData.nonceStr,package:n.payData.package,signType:n.payData.signType,paySign:n.payData.paySign,success:function(t){e.showLoading({title:"付款成功",mask:!0}),e.request({url:n.url1+"/dinghai/user/updateMoney",header:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:{uid:n.useUser.uid,money:i.chargeprice},success:function(n){200==n.statusCode?(e.showToast({title:"充值成功"}),e.navigateBack({})):e.showToast({title:"充值失败！请联系客服",icon:"none"})},fail:function(n){console.log(o(n," at pages\\mes\\jine\\chongzhi\\chongzhi.vue:144")),e.showToast({title:"充值失败！",icon:"none"})}})},fail:function(n){e.showToast({title:"用户取消充值",icon:"none"})}})):e.showToast({title:"您的网络打了个盹！",icon:"none"})},fail:function(n){e.showToast({title:"您的网络打了个盹",icon:"none"})}})}else e.showToast({title:"您的网络打了个盹！",icon:"none"})},fail:function(n){e.showToast({title:"您的网络打了个盹",icon:"none"})}})}else e.showToast({title:"您的网络打了个盹！",icon:"none"})},fail:function(n){e.showToast({title:"您的网络打了个盹",icon:"none"})}}),e.getUserInfo({provider:"weixin",success:function(e){console.log(o("用户昵称为："+e.userInfo.nickName," at pages\\mes\\jine\\chongzhi\\chongzhi.vue:204")),console.log(o(e," at pages\\mes\\jine\\chongzhi\\chongzhi.vue:205"))}})}}):e.showToast({title:"必须填写充值金额并且充值金额必须大于0元",icon:"none"})},wxCJ:function(){this.wx=!0},back:function(){e.navigateBack({})}}};n.default=t}).call(this,o("6e42")["default"],o("0de9")["default"])},"2c94":function(e,n,o){"use strict";var t=o("b9e1"),a=o.n(t);a.a},"595a":function(e,n,o){"use strict";o.r(n);var t=o("be36"),a=o("8805");for(var i in a)"default"!==i&&function(e){o.d(n,e,function(){return a[e]})}(i);o("2c94");var s=o("2877"),c=Object(s["a"])(a["default"],t["a"],t["b"],!1,null,null,null);n["default"]=c.exports},"60e6":function(e,n,o){"use strict";(function(e){o("c01b"),o("921b");t(o("66fd"));var n=t(o("595a"));function t(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,o("6e42")["createPage"])},8805:function(e,n,o){"use strict";o.r(n);var t=o("2519"),a=o.n(t);for(var i in t)"default"!==i&&function(e){o.d(n,e,function(){return t[e]})}(i);n["default"]=a.a},b9e1:function(e,n,o){},be36:function(e,n,o){"use strict";var t=function(){var e=this,n=e.$createElement;e._self._c;e._isMounted||(e.e0=function(n){e.wx=!e.wx})},a=[];o.d(n,"a",function(){return t}),o.d(n,"b",function(){return a})}},[["60e6","common/runtime","common/vendor"]]]);