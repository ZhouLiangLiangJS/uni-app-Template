(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mes/shangjiaruzhu/shangpin/shangpin"],{"0773":function(e,t,i){"use strict";i.r(t);var n=i("c04f"),s=i.n(n);for(var a in n)"default"!==a&&function(e){i.d(t,e,function(){return n[e]})}(a);t["default"]=s.a},"2ae3":function(e,t,i){},"505f":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=(e._self._c,e.__map(e.fenLeiList,function(t,i){var n=e.__map(t.btnTitleArr,function(t,i){var n=e.flagArr.indexOf(t.title);return{$orig:e.__get_orig(t),g0:n}});return{$orig:e.__get_orig(t),l0:n}}));e._isMounted||(e.e0=function(t){e.btnFlag=!e.btnFlag},e.e1=function(t){e.upNum=!e.upNum},e.e2=function(t){e.upNum=!e.upNum}),e.$mp.data=Object.assign({},{$root:{l1:i}})},s=[];i.d(t,"a",function(){return n}),i.d(t,"b",function(){return s})},9790:function(e,t,i){"use strict";var n=i("2ae3"),s=i.n(n);s.a},bcbd:function(e,t,i){"use strict";(function(e){i("c01b"),i("921b");n(i("66fd"));var t=n(i("d914"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,i("6e42")["createPage"])},c04f:function(e,t,i){"use strict";(function(e,i){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={data:function(){return{name:"",mj:"",xinxi:"",ind:[],t:null,upNum:!1,imgroup6:[],imgroup6upData:[],imgroup9:[],imgroup9upData:[],btnTitle:null,btnJiaGe:null,fenLeiListIndex:null,tag:[{name:"正品保证",judge:!1},{name:"建材清理",judge:!1},{name:"售后保证",judge:!1}],JZtag:[{name:"正品保证",judge:!1},{name:"建材清理",judge:!1},{name:"售后保证",judge:!1}],yunFei1:null,yunFei2:null,flag:!0,btnFlag:!1,imgroup1:[],imgroup1upData:[],imgroup7:[],imgroup7upData:[],fenLeiList:[{fenLeiTitle:"",btnTitleArr:[]}],flagArr:[],uid:this.user.uid,shop:null,price:"",nums:null,fenLeiFlag:!1}},onLoad:function(){this.login()},methods:{sc:function(){var t=this,n=!0,s=this,a=s.url1+"/dinghai/user/SelectMerchant";e.showLoading({title:"正在加载中",mask:!0}),e.request({url:a,header:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:{sid:s.user.uid},success:function(s){if(console.log(i(s," at pages\\mes\\shangjiaruzhu\\shangpin\\shangpin.vue:314")),200==s.statusCode)if(console.log(i(s.data.start1+s.data.end>s.data.start," at pages\\mes\\shangjiaruzhu\\shangpin\\shangpin.vue:316")),n=!(s.data.start1+s.data.end>s.data.start),n)e.showModal({title:"温馨提示",content:"您不是商家会员不可以上传商品,是否要去充值商家会员",success:function(t){t.confirm&&e.redirectTo({url:"../../huiyuan/huiyuan"})}});else{var a=t,u=a.url1+"/dinghai/commodity/add";if(a.flag){for(var o=0;o<t.fenLeiList.length;o++)if(""!=t.fenLeiList[o].fenLeiTitle){t.fenLeiFlag=!0;break}console.log(i(t.imgroup6upData.length>=2,""!=t.name,""!=t.xinxi,""!=t.price,null!=t.nums,0==t.flagArr.length,t.fenLeiFlag,t.imgroup9upData.length>0,null!=t.yunFei1,t.fenLeiList[0].btnTitleArr.length>0," at pages\\mes\\shangjiaruzhu\\shangpin\\shangpin.vue:346")),t.imgroup6upData.length,t.name,t.xinxi,t.price,t.nums,t.flagArr.length,t.fenLeiFlag,t.imgroup9upData.length,t.yunFei1,t.fenLeiList[0].btnTitleArr.length>0?(e.showLoading({title:"正在添加中",mask:!0}),e.request({url:u,header:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:{name:a.name,introduce:a.xinxi,price:a.price,state:0,nums:a.nums,type:a.shop.type,shopuid:a.shop.id,uid:a.uid,adress:a.shop.adress,img1:JSON.stringify(a.imgroup6upData),img2:JSON.stringify(a.imgroup9upData),Longitude:a.shop.longitude,Latitude:a.shop.latitude,freight:a.yunFei1,area:1,label:JSON.stringify(a.tag),shopType:JSON.stringify(a.fenLeiList)},success:function(t){200==t.statusCode?(console.log(i(t," at pages\\mes\\shangjiaruzhu\\shangpin\\shangpin.vue:380")),e.navigateBack({}),e.showToast({title:"添加成功"})):e.showToast({title:"您的网络打了个盹",icon:"none"})},fail:function(t){e.showToast({title:"您的网络打了个盹",icon:"none"})}})):(e.show,e.showModal({icon:"none",title:"请完整填写！轮播图最少两张，包括商品详情图！商品名称和简介，最低价格，商品总数，标签，包括分类标题，并且分类按钮不得显示红色，如显示红色请点击"}))}else console.log(i(t.imgroup1upData.length>=2&&""!=t.name&&null!=t.mj&&""!=t.price&&""!=t.xinxi&&t.imgroup7upData.length>0&&null!=t.yunFei2," at pages\\mes\\shangjiaruzhu\\shangpin\\shangpin.vue:411")),t.imgroup1upData.length>=2&&""!=t.name&&null!=t.mj&&""!=t.price&&""!=t.xinxi&&t.imgroup7upData.length>0&&null!=t.yunFei2?(e.showLoading({title:"正在添加中",mask:!0}),e.request({url:u,header:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:{name:a.name,introduce:a.xinxi,price:a.price,state:0,nums:99,type:a.shop.type,shopuid:a.shop.id,uid:a.uid,adress:a.shop.adress,img1:JSON.stringify(a.imgroup1upData),img2:JSON.stringify(a.imgroup7upData),Longitude:a.shop.longitude,Latitude:a.shop.latitude,freight:a.yunFei2,area:a.mj,label:JSON.stringify(a.JZtag),shopType:"[]"},success:function(t){200==t.statusCode?(console.log(i(t," at pages\\mes\\shangjiaruzhu\\shangpin\\shangpin.vue:445")),e.navigateBack({}),e.showToast({title:"添加成功"})):e.showToast({title:"您的网络打了个盹",icon:"none"})},fail:function(t){e.showToast({title:"您的网络打了个盹",icon:"none"})}})):(e.show,e.showModal({icon:"none",title:"请完整填写！轮播图最少两张，包括商品详情图！商品名称和简介，最低价格，房屋面积，标签"}))}},fail:function(t){e.showToast({title:"您的网络打了个盹！",icon:"none"})}})},login:function(){var t=this,n=t.url1+"/dinghai/shop/byid";e.showLoading({title:"正在查询中",mask:!0}),e.request({url:n,header:{"Content-Type":"application/x-www-form-urlencoded"},method:"GET",data:{uid:t.uid},success:function(n){200==n.statusCode?(console.log(i(n," at pages\\mes\\shangjiaruzhu\\shangpin\\shangpin.vue:507")),"success"==n.data.msg?(e.showToast({title:"已入驻请添加"}),"装修"==n.data.data.type&&(t.flag=!1),t.shop=n.data.data):e.redirectTo({url:"../shangjiaruzhu"})):(e.showToast({title:"您的网络打了个盹",icon:"none"}),e.navigateBack({}))},fail:function(t){e.showToast({title:"您的网络打了个盹",icon:"none"}),e.navigateBack({})}})},qu:function(){this.suanFa(),this.upNum=!this.upNum},active:function(e,t){this.t=this.fenLeiList[e].btnTitleArr[t].title,this.ind=this.fenLeiList[e].btnTitleArr[t].kuCun,this.upNum=!0},suanFa:function(){for(var e=0;e<this.fenLeiList.length;e++)for(var t=0;t<this.fenLeiList[e].btnTitleArr.length;t++)for(var n=0;n<this.fenLeiList[e].btnTitleArr[t].kuCun.length;n++)null==this.fenLeiList[e].btnTitleArr[t].kuCun[n].num?-1==this.flagArr.indexOf(this.fenLeiList[e].btnTitleArr[t].title)&&this.flagArr.push(this.fenLeiList[e].btnTitleArr[t].title):-1!=this.flagArr.indexOf(this.fenLeiList[e].btnTitleArr[t].title)&&this.flagArr.splice(this.flagArr.indexOf(this.fenLeiList[e].btnTitleArr[t].title),1);console.log(i(this.flagArr," at pages\\mes\\shangjiaruzhu\\shangpin\\shangpin.vue:567"))},tianJiaFenLei:function(){this.fenLeiList.push({fenLeiTitle:"",btnTitleArr:[]})},quXiao:function(){this.btnFlag=!1,this.btnTitle=null,this.btnJiaGe=null,this.fenLeiListIndex=null},queRen:function(){for(var t=!0,n=0;n<this.fenLeiList.length;n++)for(var s=0;s<this.fenLeiList[n].btnTitleArr.length;s++)this.fenLeiList[n].btnTitleArr[s].title===this.btnTitle&&(t=!1);if(t)if(this.btnJiaGe&&this.btnTitle)if(this.btnJiaGe.length>0&&this.btnTitle.length>0){for(var a={title:this.btnTitle,jg:this.btnJiaGe,kuCun:[{title:this.btnTitle,num:null}]},u=0;u<this.fenLeiList.length;u++)for(var o=0;o<this.fenLeiList[u].btnTitleArr.length;o++)u!=this.fenLeiListIndex&&a.kuCun.push({title:this.fenLeiList[u].btnTitleArr[o].title,num:null});for(var l=0;l<this.fenLeiList.length;l++)for(var h=0;h<this.fenLeiList[l].btnTitleArr.length;h++)l!=this.fenLeiListIndex&&this.fenLeiList[l].btnTitleArr[h].kuCun.push({title:this.btnTitle,num:null});this.fenLeiList[this.fenLeiListIndex].btnTitleArr.push(a),this.quXiao(),this.suanFa(),console.log(i(this.fenLeiList," at pages\\mes\\shangjiaruzhu\\shangpin\\shangpin.vue:628"))}else e.showToast({title:"请完整填写",icon:"none"});else e.showToast({title:"请完整填写",icon:"none"});else this.quXiao(),e.showToast({title:"请不要重复添加",icon:"none"})},create:function(e){this.fenLeiListIndex=e,this.btnFlag=!0},back:function(){e.navigateBack({})},del:function(e,t,i){e.splice(i,1),t.splice(i,1)},changesty:function(e){console.log(i(this.tag[e].judge," at pages\\mes\\shangjiaruzhu\\shangpin\\shangpin.vue:665")),1==this.tag[e].judge?this.tag[e].judge=!1:this.tag[e].judge=!0},chang:function(e){console.log(i(this.JZtag[e].judge," at pages\\mes\\shangjiaruzhu\\shangpin\\shangpin.vue:674")),1==this.JZtag[e].judge?this.JZtag[e].judge=!1:this.JZtag[e].judge=!0},sel_img6:function(){var t=this;this.imgroup6.length>=6?e.showToast({title:"最多上传6张图",icon:"none"}):e.chooseImage({count:1,sizeType:["compressed"],sourceType:["album"],success:function(n){console.log(i(n.tempFilePaths,n," at pages\\mes\\shangjiaruzhu\\shangpin\\shangpin.vue:698"));var s=n;if(/(.jpg|.JPG|.jpeg|.JPEG|.PNG|.png)$/.exec(n.tempFilePaths[0]))e.uploadFile({url:t.url1+"/dinghai/Img/Img",filePath:s.tempFilePaths[0],name:"files",fileType:"image",success:function(i){200===i.statusCode?(t.imgroup6.push(s.tempFilePaths[0]),t.imgroup6upData.push(i.data)):e.showToast({title:"上传图片失败请重试",icon:"none"})}});else e.showToast({icon:"none",title:"上传格式错误！请上传jpg，jpeg，png格式的图片"})}})},sel_img7:function(){var t=this;this.imgroup7.length>=6?e.showToast({title:"最多上传6张图",icon:"none"}):e.chooseImage({count:1,sizeType:["compressed"],sourceType:["album"],success:function(n){console.log(i(n.tempFilePaths,n," at pages\\mes\\shangjiaruzhu\\shangpin\\shangpin.vue:743"));var s=n;if(/(.jpg|.JPG|.jpeg|.JPEG|.PNG|.png)$/.exec(n.tempFilePaths[0]))e.uploadFile({url:t.url1+"/dinghai/Img/Img",filePath:s.tempFilePaths[0],name:"files",fileType:"image",success:function(i){200===i.statusCode?(t.imgroup7.push(s.tempFilePaths[0]),t.imgroup7upData.push(i.data)):e.showToast({title:"上传图片失败请重试",icon:"none"})}});else e.showToast({icon:"none",title:"上传格式错误！请上传jpg，jpeg，png格式的图片"})}})},sel_img1:function(){var t=this;this.imgroup1.length>=6?e.showToast({title:"最多上传6张图",icon:"none"}):e.chooseImage({count:1,sizeType:["compressed"],sourceType:["album"],success:function(n){console.log(i(n.tempFilePaths,n," at pages\\mes\\shangjiaruzhu\\shangpin\\shangpin.vue:788"));var s=n;if(/(.jpg|.JPG|.jpeg|.JPEG|.PNG|.png)$/.exec(n.tempFilePaths[0]))e.uploadFile({url:t.url1+"/dinghai/Img/Img",filePath:s.tempFilePaths[0],name:"files",fileType:"image",success:function(i){200===i.statusCode?(t.imgroup1.push(s.tempFilePaths[0]),t.imgroup1upData.push(i.data)):e.showToast({title:"上传图片失败请重试",icon:"none"})}});else e.showToast({icon:"none",title:"上传格式错误！请上传jpg，jpeg，png格式的图片"})}})},sel_img9:function(){var t=this;this.imgroup9.length>=6?e.showToast({title:"最多上传6张图",icon:"none"}):e.chooseImage({count:1,sizeType:["compressed"],sourceType:["album"],success:function(n){console.log(i(n.tempFilePaths,n," at pages\\mes\\shangjiaruzhu\\shangpin\\shangpin.vue:834"));var s=n;if(/(.jpg|.JPG|.jpeg|.JPEG|.PNG|.png)$/.exec(n.tempFilePaths[0]))e.uploadFile({url:t.url1+"/dinghai/Img/Img",filePath:s.tempFilePaths[0],name:"files",fileType:"image",success:function(i){200===i.statusCode?(t.imgroup9.push(s.tempFilePaths[0]),t.imgroup9upData.push(i.data)):e.showToast({title:"上传图片失败请重试",icon:"none"})}});else e.showToast({icon:"none",title:"上传格式错误！请上传jpg，jpeg，png格式的图片"})}})}}};t.default=n}).call(this,i("6e42")["default"],i("0de9")["default"])},d914:function(e,t,i){"use strict";i.r(t);var n=i("505f"),s=i("0773");for(var a in s)"default"!==a&&function(e){i.d(t,e,function(){return s[e]})}(a);i("9790");var u=i("2877"),o=Object(u["a"])(s["default"],n["a"],n["b"],!1,null,null,null);t["default"]=o.exports}},[["bcbd","common/runtime","common/vendor"]]]);