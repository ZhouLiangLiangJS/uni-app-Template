(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/post/mytf/myft"],{"12cd":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement;t._self._c},s=[];n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s})},"1cb6":function(t,e,n){},"610f":function(t,e,n){"use strict";n.r(e);var o=n("12cd"),s=n("ed74");for(var i in s)"default"!==i&&function(t){n.d(e,t,function(){return s[t]})}(i);n("6e70");var a=n("2877"),u=Object(a["a"])(s["default"],o["a"],o["b"],!1,null,null,null);e["default"]=u.exports},"6e70":function(t,e,n){"use strict";var o=n("1cb6"),s=n.n(o);s.a},"7f66":function(t,e,n){"use strict";(function(t){n("c01b"),n("921b");o(n("66fd"));var e=o(n("610f"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])},"92e3":function(t,e,n){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={data:function(){return{pageshow:!0,judge:!1,coninput:"",personinput:this.user.name||"未登陆",name:this.user.name||"未登陆",imgArr:[],upData:[],i:0}},onLoad:function(){},onShow:function(){this.pageshow=!0,""!=this.personinput&&""!=this.coninput||(this.judge=!1)},methods:{f1:function(){t.navigateBack({})},post:function(){var e=this;if(0==this.judge)t.showToast({title:"请完整填写发帖人和帖子内容！",icon:"none"});else{var o=this,s=o.url1+"/dinghai/Posted/Posted/insertPosted";t.showLoading({mask:!0,title:"正在发送"}),t.request({url:s,header:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:{userImg:o.user.imgage,postedImg:JSON.stringify(o.upData),userId:o.user.uid,postedContent:o.coninput,username:o.name},success:function(o){console.log(n(o," at pages\\post\\mytf\\myft.vue:107")),t.showToast({title:"发布成功",icon:"success"}),e.coninput="",e.personinput="",e.pageshow=!1},fail:function(e){t.showToast({title:"您的网络开了小差哦！请稍后再试",icon:"none"})}})}},personinp:function(t){""!=this.coninput&&""!=t.detail.value?this.judge=!0:this.judge=!1},coninp:function(t){""!=this.personinput&&""!=t.detail.value?this.judge=!0:this.judge=!1},sel_img:function(){var e=this;this.imgArr.length>=9?t.showToast({title:"最多上传9张图",icon:"none"}):t.chooseImage({count:1,sizeType:["compressed"],sourceType:["album"],success:function(o){console.log(n(o.tempFilePaths,o," at pages\\post\\mytf\\myft.vue:157"));var s=o;if(/(.jpg|.JPG|.jpeg|.JPEG|.PNG|.png)$/.exec(o.tempFilePaths[0])){var i=t.uploadFile({url:e.url1+"/dinghai/Img/Img",filePath:s.tempFilePaths[0],name:"files",fileType:"image",success:function(o){console.log(n(o," at pages\\post\\mytf\\myft.vue:181")),200===o.statusCode?(e.imgArr.push(s.tempFilePaths[0]),e.upData.push(o.data),console.log(n(e.upData," at pages\\post\\mytf\\myft.vue:185"))):t.showToast({title:"上传图片失败请重试",icon:"none"})}});i.onProgressUpdate(function(t){console.log(n("上传进度"+t.progress," at pages\\post\\mytf\\myft.vue:196")),console.log(n("已经上传的数据长度"+t.totalBytesSent," at pages\\post\\mytf\\myft.vue:197")),console.log(n("预期需要上传的数据总长度"+t.totalBytesExpectedToSend," at pages\\post\\mytf\\myft.vue:198"))})}else t.showToast({icon:"none",title:"上传格式错误！请上传jpg，jpeg，png格式的图片"})}})},delimg:function(t){this.imgArr.splice(t,1),this.upData.splice(t,1)}}};e.default=o}).call(this,n("6e42")["default"],n("0de9")["default"])},ed74:function(t,e,n){"use strict";n.r(e);var o=n("92e3"),s=n.n(o);for(var i in o)"default"!==i&&function(t){n.d(e,t,function(){return o[t]})}(i);e["default"]=s.a}},[["7f66","common/runtime","common/vendor"]]]);