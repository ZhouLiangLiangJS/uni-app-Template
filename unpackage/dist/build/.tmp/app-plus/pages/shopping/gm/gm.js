(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/shopping/gm/gm"],{"0b11":function(e,o,n){"use strict";(function(e){n("c01b"),n("921b");s(n("66fd"));var o=s(n("8645"));function s(e){return e&&e.__esModule?e:{default:e}}e(o.default)}).call(this,n("6e42")["createPage"])},7144:function(e,o,n){"use strict";(function(e,n){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var s={data:function(){return{address:[],useUser:this.user,shopping:[],txt:[],jg:null,liuyan:"",url:this.url1,heji:null}},onLoad:function(o){this.shopping=JSON.parse(o.shopping),this.heji=Number(o.heJi),console.log(e(this.heji," at pages\\shopping\\gm\\gm.vue:93")),console.log(e(Number(o.heJi)," at pages\\shopping\\gm\\gm.vue:94"));for(var n=0;n<this.shopping.length;n++)this.shopping[n].liuyan=""},onShow:function(){this.req()},methods:{liji:function(){var o=this;this.address.length>0?function(){var s=o,t=s.url1+"/dinghai/ShopOrder/insertAddress";n.showLoading({mask:!0,title:"正在购买中"});for(var i=function(i){n.request({url:t,header:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:{shopAddressName:s.address[0].userName,shopAddress:s.address[0].addressOne+s.address[0].addressTwo,shopAdressTel:s.address[0].userTel,shopName:s.shopping[i].commodityname,shopOrderNum:s.shopping[i].shoppingnum,shopPrice:(s.shopping[i].freight+s.shopping[i].shoppingprice)*s.shopping[i].shoppingnum,shopFreight:s.shopping[i].freight,message:s.shopping[i].liuyan,Coupon:0,uid:s.useUser.uid,sid:s.shopping[i].uid,commodityid:s.shopping[i].commodityid,commodityName:s.shopping[i].commodityname},success:function(t){console.log(e(t," at pages\\shopping\\gm\\gm.vue:131")),200==t.statusCode?n.request({url:s.url1+"/dinghai/ShopOrder/pay",header:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:{uid:s.useUser.uid,sid:s.shopping[i].sid,money:(s.shopping[i].freight+s.shopping[i].shoppingprice)*s.shopping[i].shoppingnum},success:function(s){if(console.log(e(s," at pages\\shopping\\gm\\gm.vue:145")),200==s.statusCode)if(200==s.data.flag){var t=o;n.request({url:t.url1+"/dinghai/Shopping/deleteShopping",header:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:{shoppingid:t.shopping[i].shoppingid},success:function(o){console.log(e(o," at pages\\shopping\\gm\\gm.vue:159")),200==o.statusCode?n.showToast({title:"支付成功！",icon:"none"}):n.showToast({title:"支付成功！此件商品在购物车未删除成功，请手动删除",icon:"none"})},fail:function(e){n.showToast({title:"支付成功！此件商品在购物车未删除成功，请手动删除",icon:"none"})}}),n.navigateBack({})}else n.showToast({title:"支付失败！",icon:"none"}),n.showModal({title:"提示",content:"您的余额不足是否要充值",success:function(e){e.confirm?n.navigateTo({url:"../../../mes/jine/chongzhi/chongzhi"}):e.cancel}});else n.showToast({title:"您的网络打了个盹！",icon:"none"})},fail:function(e){n.showToast({title:"您的网络打了个盹！",icon:"none"})}}):n.showToast({title:"您的网络打了个盹！",icon:"none"})},fail:function(e){n.showToast({title:"您的网络打了个盹！",icon:"none"})}})},a=0;a<s.shopping.length;a++)i(a)}():n.showToast({title:"请添加地址后购买",icon:"none"})},tjsh:function(){n.navigateTo({url:"../../mes/dizhi/tjdizhi/tjdizhi"})},back:function(){n.navigateBack({})},dizhiXuanZe:function(){},req:function(){n.showLoading({title:"正在加载",mask:!0});var o=this,s=o.url1+"/dinghai/Address/selectAddress";n.request({url:s,header:{"Content-type":"application/x-www-form-urlencoded"},method:"post",data:{userId:o.useUser.uid},success:function(s){200===s.statusCode?(o.address=s.data.flag,console.log(e(o.address," at pages\\shopping\\gm\\gm.vue:272")),n.showToast({title:"加载成功"})):n.showToast({title:"您的网络开了小差",icon:"none"}),console.log(e(o.address," at pages\\shopping\\gm\\gm.vue:282")),console.log(e(o.address.length," at pages\\shopping\\gm\\gm.vue:283")),o.address.length>=1?o.judgehava=!1:o.judgehava=!0},fail:function(o){console.log(e(o," at pages\\shopping\\gm\\gm.vue:291")),n.showToast({title:"连接服务器失败",icon:"none"})}})}}};o.default=s}).call(this,n("0de9")["default"],n("6e42")["default"])},"75cc":function(e,o,n){"use strict";var s=function(){var e=this,o=e.$createElement;e._self._c},t=[];n.d(o,"a",function(){return s}),n.d(o,"b",function(){return t})},8645:function(e,o,n){"use strict";n.r(o);var s=n("75cc"),t=n("c24a");for(var i in t)"default"!==i&&function(e){n.d(o,e,function(){return t[e]})}(i);n("cd5e");var a=n("2877"),u=Object(a["a"])(t["default"],s["a"],s["b"],!1,null,null,null);o["default"]=u.exports},b3f6:function(e,o,n){},c24a:function(e,o,n){"use strict";n.r(o);var s=n("7144"),t=n.n(s);for(var i in s)"default"!==i&&function(e){n.d(o,e,function(){return s[e]})}(i);o["default"]=t.a},cd5e:function(e,o,n){"use strict";var s=n("b3f6"),t=n.n(s);t.a}},[["0b11","common/runtime","common/vendor"]]]);