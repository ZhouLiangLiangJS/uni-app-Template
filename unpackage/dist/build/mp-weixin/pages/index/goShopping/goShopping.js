(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/goShopping/goShopping"],{"3bc4":function(o,n,i){"use strict";i.r(n);var t=i("aea4"),e=i("9495");for(var s in e)"default"!==s&&function(o){i.d(n,o,function(){return e[o]})}(s);i("6cc8");var a=i("2877"),h=Object(a["a"])(e["default"],t["a"],t["b"],!1,null,null,null);n["default"]=h.exports},"418b":function(o,n,i){"use strict";(function(o){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i={data:function(){return{url:this.url1,txt:"",xunXiang:!1,lbt:[],fenLeiActive:1,goShopping:null,shop:null,cnxh:[],showColor:[],useUser:this.user}},onLoad:function(o){console.log(o),this.goShopping=JSON.parse(o.goShopping),this.goShopping.label=JSON.parse(this.goShopping.label),this.goShopping.shopType=JSON.parse(this.goShopping.shopType),this.shop=JSON.parse(o.shop),this.getshop()},methods:{gouWuChe:function(){if("未登录"==this.user)o.navigateTo({url:"../../login/index/index"});else if(this.useUser.uid!=this.shop.uid){if(!this.showXunXiang()){var n=this,i=n.url1+"/dinghai/Shopping/insertAddress";o.showLoading({title:"正在添加",mask:!0}),o.request({url:i,header:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:{commodityid:n.goShopping.id,commodityname:n.goShopping.name,shoppingnum:1,shoppingprice:n.goShopping.price,uid:n.useUser.uid,shopid:n.shop.id,shopimg:n.goShopping.img1[0],shopname:n.shop.name,shoptype:n.txt,freight:n.goShopping.freight,sid:n.goShopping.uid},success:function(n){console.log(n),200==n.statusCode?(o.showToast({title:"添加购物车成功"}),o.navigateBack({})):o.showToast({title:"您的网络打了个盹",icon:"none"})},fail:function(n){console.log(n),o.showToast({title:"您的网络打了个盹",icon:"none"})}})}}else o.showToast({title:"不可以把自己的商品添加购物车哦",icon:"none"})},liJiGouMai:function(){if("未登录"==this.user)o.navigateTo({url:"../../login/index/index"});else{var n=this;this.useUser.uid!=this.shop.uid?this.showXunXiang()||o.redirectTo({url:"liJiGouMai/liJiGoMai?goShopping="+JSON.stringify(n.goShopping)+"&shop="+JSON.stringify(n.shop)+"&txt="+JSON.stringify(n.showColor)}):o.showToast({title:"不可以购买自己的商品哦",icon:"none"})}},showXunXiang:function(){if(this.showColor.length!=this.goShopping.shopType.length)return this.xunXiang=!0,!0;for(var o=0;o<this.showColor.length;o++)if(!this.showColor[o])return this.xunXiang=!0,!0;return this.xunXiang=!1,!1},active:function(o,n){var i=this.showColor.slice();i[n]=o,this.showColor=i;for(var t=0,e="",s=0;s<i.length;s++)t+=new Number(i[s].jg),e+=i[s].title,console.log(t);this.goShopping.price=t,this.txt=e},f1:function(){},shopping:function(n,i){var t=this,e=this,s=e.url1+"/dinghai/shop/byid";o.showLoading({title:"正在加载",mask:!0}),o.request({url:s,header:{"Content-Type":"application/x-www-form-urlencoded"},method:"GET",data:{uid:n.uid},success:function(i){console.log(i),200==i.data.code?(t.goShopping=n,t.shop=i.data.data,o.showToast({title:"加载成功",icon:"none"})):o.showToast({title:"您的网络打了个盹",icon:"none"})},fail:function(n){console.log(n),o.showToast({title:"您的网络打了个盹",icon:"none"})}})},back:function(){o.navigateBack({})},getshop:function(){var n=this,i=n.url1+"/dinghai/commodity/getbytypeall";o.showLoading({title:"正在加载",mask:!0}),o.request({url:i,header:{"Content-Type":"application/x-www-form-urlencoded"},method:"GET",data:{type:n.goShopping.type,start:1,size:20},success:function(i){if(console.log(i),200==i.data.code){n.cnxh=i.data.data;for(var t=0;t<n.cnxh.length;t++)n.cnxh[t].img1=JSON.parse(n.cnxh[t].img1),n.cnxh[t].img2=JSON.parse(n.cnxh[t].img2),n.cnxh[t].shopType=JSON.parse(n.cnxh[t].shopType),n.cnxh[t].label=JSON.parse(n.cnxh[t].label);o.showToast({title:"加载成功",icon:"none"})}else o.showToast({title:"您的网络打了个盹",icon:"none"})},fail:function(n){console.log(n),o.showToast({title:"您的网络打了个盹",icon:"none"})}})},goDianPu:function(){o.navigateTo({url:"../dianPu/dianPu?item="+JSON.stringify(this.shop)})}}};n.default=i}).call(this,i("543d")["default"])},"6cc8":function(o,n,i){"use strict";var t=i("eb53"),e=i.n(t);e.a},9495:function(o,n,i){"use strict";i.r(n);var t=i("418b"),e=i.n(t);for(var s in t)"default"!==s&&function(o){i.d(n,o,function(){return t[o]})}(s);n["default"]=e.a},aea4:function(o,n,i){"use strict";var t=function(){var o=this,n=o.$createElement;o._self._c;o._isMounted||(o.e0=function(n){o.fenLeiActive=1},o.e1=function(n){o.fenLeiActive=2},o.e2=function(n){o.xunXiang=!o.xunXiang})},e=[];i.d(n,"a",function(){return t}),i.d(n,"b",function(){return e})},ce7f:function(o,n,i){"use strict";(function(o){i("c01b"),i("921b");t(i("66fd"));var n=t(i("3bc4"));function t(o){return o&&o.__esModule?o:{default:o}}o(n.default)}).call(this,i("543d")["createPage"])},eb53:function(o,n,i){}},[["ce7f","common/runtime","common/vendor"]]]);