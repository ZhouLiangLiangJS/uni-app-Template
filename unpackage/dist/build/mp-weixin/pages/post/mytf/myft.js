(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/post/mytf/myft"],{"12cd":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement;e._self._c},s=[];n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s})},"1cb6":function(e,t,n){},"610f":function(e,t,n){"use strict";n.r(t);var o=n("12cd"),s=n("ed74");for(var i in s)"default"!==i&&function(e){n.d(t,e,function(){return s[e]})}(i);n("6e70");var u=n("2877"),a=Object(u["a"])(s["default"],o["a"],o["b"],!1,null,null,null);t["default"]=a.exports},"6e70":function(e,t,n){"use strict";var o=n("1cb6"),s=n.n(o);s.a},"7f66":function(e,t,n){"use strict";(function(e){n("c01b"),n("921b");o(n("66fd"));var t=o(n("610f"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},"92e3":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={data:function(){return{pageshow:!0,judge:!1,coninput:"",personinput:this.user.name||"未登陆",name:this.user.name||"未登陆",imgArr:[],upData:[],i:0}},onLoad:function(){},onShow:function(){this.pageshow=!0,""!=this.personinput&&""!=this.coninput||(this.judge=!1)},methods:{f1:function(){e.navigateBack({})},post:function(){var t=this;if(0==this.judge)e.showToast({title:"请完整填写发帖人和帖子内容！",icon:"none"});else{var n=this,o=n.url1+"/dinghai/Posted/Posted/insertPosted";e.showLoading({mask:!0,title:"正在发送"}),e.request({url:o,header:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:{userImg:n.user.imgage,postedImg:JSON.stringify(n.upData),userId:n.user.uid,postedContent:n.coninput,username:n.name},success:function(n){console.log(n),e.showToast({title:"发布成功",icon:"success"}),t.coninput="",t.personinput="",t.pageshow=!1},fail:function(t){e.showToast({title:"您的网络开了小差哦！请稍后再试",icon:"none"})}})}},personinp:function(e){""!=this.coninput&&""!=e.detail.value?this.judge=!0:this.judge=!1},coninp:function(e){""!=this.personinput&&""!=e.detail.value?this.judge=!0:this.judge=!1},sel_img:function(){var t=this;this.imgArr.length>=9?e.showToast({title:"最多上传9张图",icon:"none"}):e.chooseImage({count:1,sizeType:["compressed"],sourceType:["album"],success:function(n){console.log(n.tempFilePaths,n);var o=n;if(/(.jpg|.JPG|.jpeg|.JPEG|.PNG|.png)$/.exec(n.tempFilePaths[0])){var s=e.uploadFile({url:t.url1+"/dinghai/Img/Img",filePath:o.tempFilePaths[0],name:"files",fileType:"image",success:function(n){console.log(n),200===n.statusCode?(t.imgArr.push(o.tempFilePaths[0]),t.upData.push(n.data),console.log(t.upData)):e.showToast({title:"上传图片失败请重试",icon:"none"})}});s.onProgressUpdate(function(e){console.log("上传进度"+e.progress),console.log("已经上传的数据长度"+e.totalBytesSent),console.log("预期需要上传的数据总长度"+e.totalBytesExpectedToSend)})}else e.showToast({icon:"none",title:"上传格式错误！请上传jpg，jpeg，png格式的图片"})}})},delimg:function(e){this.imgArr.splice(e,1),this.upData.splice(e,1)}}};t.default=n}).call(this,n("543d")["default"])},ed74:function(e,t,n){"use strict";n.r(t);var o=n("92e3"),s=n.n(o);for(var i in o)"default"!==i&&function(e){n.d(t,e,function(){return o[e]})}(i);t["default"]=s.a}},[["7f66","common/runtime","common/vendor"]]]);